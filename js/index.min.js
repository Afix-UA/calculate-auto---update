(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();function getHash(){if(location.hash)return location.hash.replace("#","")}function setHash(e){e=e?`#${e}`:window.location.href.split("#")[0],history.pushState("","",e)}let slideUp=(e,t=500,s=0)=>{e.classList.contains("--slide")||(e.classList.add("--slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!s,s||e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),s||e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},t))},slideDown=(e,t=500,s=0)=>{if(!e.classList.contains("--slide")){e.classList.add("--slide"),e.hidden=e.hidden?!1:null,s&&e.style.removeProperty("height");let a=e.offsetHeight;e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=a+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},t)}},bodyLockStatus=!0,bodyUnlock=(e=500)=>{if(bodyLockStatus){const t=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{t.forEach(s=>{s.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},e),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},e)}},bodyLock=(e=500)=>{if(bodyLockStatus){const t=document.querySelectorAll("[data-fls-lp]"),s=window.innerWidth-document.body.offsetWidth+"px";t.forEach(a=>{a.style.paddingRight=s}),document.body.style.paddingRight=s,document.documentElement.setAttribute("data-fls-scrolllock",""),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},e)}};function dataMediaQueries(e,t){const s=Array.from(e).filter(l=>l.dataset[t]).map(l=>{const[i,r="max"]=l.dataset[t].split(",");return{value:i,type:r,item:l}});if(s.length===0)return[];const a=s.map(({value:l,type:i})=>`(${i}-width: ${l}px),${l},${i}`);return[...new Set(a)].map(l=>{const[i,r,n]=l.split(","),p=window.matchMedia(i);return{itemsArray:s.filter(u=>u.value===r&&u.type===n),matchMedia:p}})}function tabs(){const e=document.querySelectorAll("[data-fls-tabs]");let t=[];if(e.length>0){const i=getHash();i&&i.startsWith("tab-")&&(t=i.replace("tab-","").split("-")),e.forEach((n,p)=>{n.classList.add("--tab-init"),n.setAttribute("data-fls-tabs-index",p),n.addEventListener("click",l),a(n)});let r=dataMediaQueries(e,"flsTabs");r&&r.length&&r.forEach(n=>{n.matchMedia.addEventListener("change",function(){s(n.itemsArray,n.matchMedia)}),s(n.itemsArray,n.matchMedia)})}function s(i,r){i.forEach(n=>{n=n.item;let p=n.querySelector("[data-fls-tabs-titles]"),c=n.querySelectorAll("[data-fls-tabs-title]"),u=n.querySelector("[data-fls-tabs-body]"),d=n.querySelectorAll("[data-fls-tabs-item]");c=Array.from(c).filter(f=>f.closest("[data-fls-tabs]")===n),d=Array.from(d).filter(f=>f.closest("[data-fls-tabs]")===n),d.forEach((f,h)=>{r.matches?(u.append(c[h]),u.append(f),n.classList.add("--tab-spoller")):(p.append(c[h]),n.classList.remove("--tab-spoller"))})})}function a(i){let r=i.querySelectorAll("[data-fls-tabs-titles]>*"),n=i.querySelectorAll("[data-fls-tabs-body]>*");const p=i.dataset.flsTabsIndex,c=t[0]==p;if(c){const u=i.querySelector("[data-fls-tabs-titles]>.--tab-active");u&&u.classList.remove("--tab-active")}n.length&&n.forEach((u,d)=>{r[d].setAttribute("data-fls-tabs-title",""),u.setAttribute("data-fls-tabs-item",""),c&&d==t[1]&&r[d].classList.add("--tab-active"),u.hidden=!r[d].classList.contains("--tab-active")})}function o(i){let r=i.querySelectorAll("[data-fls-tabs-title]"),n=i.querySelectorAll("[data-fls-tabs-item]");const p=i.dataset.flsTabsIndex;function c(d){if(d.hasAttribute("data-fls-tabs-animate"))return d.dataset.flsTabsAnimate>0?Number(d.dataset.flsTabsAnimate):500}const u=c(i);if(n.length>0){const d=i.hasAttribute("data-fls-tabs-hash");n=Array.from(n).filter(f=>f.closest("[data-fls-tabs]")===i),r=Array.from(r).filter(f=>f.closest("[data-fls-tabs]")===i),n.forEach((f,h)=>{r[h].classList.contains("--tab-active")?(u?slideDown(f,u):f.hidden=!1,d&&!f.closest(".popup")&&setHash(`tab-${p}-${h}`)):u?slideUp(f,u):f.hidden=!0})}}function l(i){const r=i.target;if(r.closest("[data-fls-tabs-title]")){const n=r.closest("[data-fls-tabs-title]"),p=n.closest("[data-fls-tabs]");if(!n.classList.contains("--tab-active")&&!p.querySelector(".--slide")){let c=p.querySelectorAll("[data-fls-tabs-title].--tab-active");c.length&&(c=Array.from(c).filter(u=>u.closest("[data-fls-tabs]")===p)),c.length&&c[0].classList.remove("--tab-active"),n.classList.add("--tab-active"),o(p)}i.preventDefault()}}}window.addEventListener("load",tabs);class Popup{constructor(t){let s={logging:!0,init:!0,attributeOpenButton:"data-fls-popup-link",attributeCloseButton:"data-fls-popup-close",fixElementSelector:"[data-fls-lp]",attributeMain:"data-fls-popup",youtubeAttribute:"data-fls-popup-youtube",youtubePlaceAttribute:"data-fls-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"data-fls-popup-body",popupActive:"data-fls-popup-active",bodyActive:"data-fls-popup-open"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...s,...t,classes:{...s.classes,...t?.classes},hashSettings:{...s.hashSettings,...t?.hashSettings},on:{...s.on,...t?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.buildPopup(),this.eventsPopup()}buildPopup(){}eventsPopup(){document.addEventListener("click",function(t){const s=t.target.closest(`[${this.options.attributeOpenButton}]`);if(s){if(t.preventDefault(),this._dataValue=s.getAttribute(this.options.attributeOpenButton)?s.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=s.getAttribute(this.options.youtubeAttribute)?s.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=s),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(t.target.closest(`[${this.options.attributeCloseButton}]`)||!t.target.closest(`[${this.options.classes.popupContent}]`)&&this.isOpen){t.preventDefault(),this.close();return}}.bind(this)),document.addEventListener("keydown",function(t){if(this.options.closeEsc&&t.which==27&&t.code==="Escape"&&this.isOpen){t.preventDefault(),this.close();return}if(this.options.focusCatch&&t.which==9&&this.isOpen){this._focusCatch(t);return}}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.addEventListener("load",function(){window.location.hash&&this._openToHash()}.bind(this)))}open(t){if(bodyLockStatus&&(this.bodyLock=!!(document.documentElement.hasAttribute("data-fls-scrolllock")&&!this.isOpen),t&&typeof t=="string"&&t.trim()!==""&&(this.targetOpen.selector=t,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(`[${this.options.attributeMain}=${this.targetOpen.selector}]`),this.targetOpen.element)){const s=this.youTubeCode||this.targetOpen.element.getAttribute(`${this.options.youtubeAttribute}`);if(s){const a=`https://www.youtube.com/embed/${s}?rel=0&showinfo=0&autoplay=1`,o=document.createElement("iframe"),l=this.options.setAutoplayYoutube?"autoplay;":"";o.setAttribute("allowfullscreen",""),o.setAttribute("allow",`${l}; encrypted-media`),o.setAttribute("src",a),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector("[data-fls-popup-content]").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(o)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.setAttribute(this.options.classes.popupActive,""),document.documentElement.setAttribute(this.options.classes.bodyActive,""),this._reopen?this._reopen=!1:this.bodyLock||bodyLock(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(t){t&&typeof t=="string"&&t.trim()!==""&&(this.previousOpen.selector=t),!(!this.isOpen||!bodyLockStatus)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&setTimeout(()=>{this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""},500),this.previousOpen.element.removeAttribute(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.removeAttribute(this.options.classes.bodyActive),this.bodyLock||bodyUnlock(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=`#${this.targetOpen.selector}`)}_openToHash(){let t=window.location.hash.replace("#","");const s=document.querySelector(`[${this.options.attributeOpenButton}="${t}"]`);s&&(this.youTubeCode=s.getAttribute(this.options.youtubeAttribute)?s.getAttribute(this.options.youtubeAttribute):null),t&&this.open(t)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(t){const s=this.targetOpen.element.querySelectorAll(this._focusEl),a=Array.prototype.slice.call(s),o=a.indexOf(document.activeElement);t.shiftKey&&o===0&&(a[a.length-1].focus(),t.preventDefault()),!t.shiftKey&&o===a.length-1&&(a[0].focus(),t.preventDefault())}_focusTrap(){const t=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():t[0].focus()}}document.querySelector("[data-fls-popup]")&&window.addEventListener("load",window.flsPopup=new Popup({}));const formTonKm=document.querySelector(".tonKm"),formMotoHours=document.querySelector(".motoHours"),btnReloadPage=document.querySelector(".btn-reload-page");function addInputStorage(){const e=JSON.parse(localStorage.getItem("dataTonKm"));e&&(formTonKm.start_mileage.value=e.Mileage,formTonKm.fuel_per100.value=e.fuelPer);const t=JSON.parse(localStorage.getItem("dataCalcMotoHours"));t&&(formMotoHours.start_mileage.value=t.Mileage,formMotoHours.fuel_per100.value=t.fuelPer,formMotoHours.fuelPerMH.value=t.PerMH)}addInputStorage(),formTonKm&&formTonKm.addEventListener("submit",extractNumbersFromFormTonKm);function extractNumbersFromFormTonKm(e){e.preventDefault();const t=new FormData(formTonKm),s={};for(const[l,i]of t.entries())s[l]=i;const a=JSON.stringify(s),o=calculateDataTonKm(a);getInnerData(0,o)}function calculateDataTonKm(e){const t=JSON.parse(e);localStorage.setItem("dataCalc",e);const s=+t.start_mileage,a=+t.fuel_quantity,o=+t.total_km,l=+t.fuel_per100,i=+t.loaded_km,r=+t.cargo,n=Math.round(o*l/100),p=Math.round(i*r*1.3/100),c=Math.round(n+p),u=Math.round(s+o),d=Math.round(a-c);return setLocal(0,u,l),{startMileage:s,fuelQuantity:a,totalKm:o,loadedKm:i,cargo:r,fuelConsumptionEmpty:n,cargoFuelConsumption:p,finalMileage:u,remainingFuel:d,totalFuelConsumption:c}}formMotoHours&&formMotoHours.addEventListener("submit",extractNumbersFromFormformMotoHours);function extractNumbersFromFormformMotoHours(e){e.preventDefault();const t=new FormData(formMotoHours),s={};for(const[l,i]of t.entries())s[l]=i;const a=JSON.stringify(s),o=calculateDataMotoHours(a);getInnerData(1,o)}function calculateDataMotoHours(e){const t=JSON.parse(e);localStorage.setItem("dataCalc",e);const s=+t.start_mileage,a=+t.fuel_quantity,o=+t.total_km,l=+t.fuel_per100,i=+t.engineHoursWorked,r=+t.fuelPerMH;console.log(l);const n=Math.round(i*r),p=Math.round(o*l/100+n),c=Math.round(s+o),u=Math.round(a-p);return setLocal(1,c,r,l),{startMileage:s,fuelQuantity:a,totalKm:o,engineHoursWorked:i,fuelPerMH:r,PerMH:n,totalFuelConsumption:p,finalMileage:c,remainingFuel:u}}function getInnerData(e,t){console.log(t);const s=document.querySelector("[data-output]");s&&(+e==0?s.innerHTML=`
      <h2 class="popup__title">\u041E\u0441\u044C \u0442\u0432\u043E\u0457 \u043F\u0456\u0434\u0440\u0430\u0445\u0443\u043D\u043A\u0438</h2>
      <p>\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0438\u0439 \u043F\u0440\u043E\u0431\u0456\u0433: <strong>${t.finalMileage} \u043A\u043C</strong></p>
      <p>\u0412\u0438\u0442\u0440\u0430\u0442\u0430 \u043F\u0430\u043B\u044C\u043D\u043E\u0433\u043E: <strong>${t.totalFuelConsumption} \u043B</strong></p>
      <p>\u0417\u0430\u043B\u0438\u0448\u043E\u043A \u043F\u0430\u043B\u044C\u043D\u043E\u0433\u043E: <strong>${t.remainingFuel} \u043B</strong></p>
      <p>\u0412\u0438\u0442\u0440\u0430\u0442\u0430 \u043F\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0431\u0435\u0437 \u0432\u0430\u043D\u0442\u0430\u0436\u0443: <strong>${t.fuelConsumptionEmpty} \u043B</strong></p>
      <p>\u0412\u0438\u0442\u0440\u0430\u0442\u0430 \u043F\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0437 \u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043C: <strong>${t.cargoFuelConsumption} \u043B</strong></p>
    `:+e==1&&(s.innerHTML=`
      <h2 class="popup__title">\u041E\u0441\u044C \u0442\u0432\u043E\u0457 \u043F\u0456\u0434\u0440\u0430\u0445\u0443\u043D\u043A\u0438</h2>
      <p>\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0438\u0439 \u043F\u0440\u043E\u0431\u0456\u0433: <strong>${t.finalMileage} \u043A\u043C</strong></p>
      <p>\u0412\u0438\u0442\u0440\u0430\u0442\u0430 \u043F\u0430\u043B\u044C\u043D\u043E\u0433\u043E: <strong>${t.totalFuelConsumption} \u043B</strong></p>
      <p>\u0417\u0430\u043B\u0438\u0448\u043E\u043A \u043F\u0430\u043B\u044C\u043D\u043E\u0433\u043E: <strong>${t.remainingFuel} \u043B</strong></p>
    `),window.flsPopup&&window.flsPopup.open("popup"))}function setLocal(e,t,s,a){if(+e==0){const o={Mileage:t,fuelPer:s};localStorage.setItem("dataTonKm",JSON.stringify(o))}else if(+e==1){const o={Mileage:t,PerMH:s,fuelPer:a};localStorage.setItem("dataCalcMotoHours",JSON.stringify(o))}}btnReloadPage.addEventListener("click",()=>{location.reload()});
